{% extends "base.html" %}

{% block content %}
  <div class="container">
  <div id="team_container" class="row mb-2">

    {% for team in teams %}


    <div class="row text-center">
    <div class="col-md-6">
      <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
        <div id="m" class="col p-4 d-flex flex-column position-static">
          <strong id="game" class="d-inline-block mb-2 text-primary">{{team.game}}</strong>
          <h3 id="name" class="mb-0">{{team.name}}</h3>
          <div class="mb-1 text-muted"></div>
          <p class="card-text mb-auto"></p>

          <div id="avators"class="row ml-0 tooltip-demo">
            {% for player in team.players.split(",") %}
            <img id="X" class="bd-placeholder-img rounded-circle" width="40" height="40" src="images/blank-avatar.jpg"
                 preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 140x140"
                 data-toggle="tooltip" data-placement="bottom" title="{{player}}"></img>
            {% endfor %}
          </div>
          <div class="ml-2 row">
            <a id="more" type="button"  data-toggle="modal" data-target="#pop{{team.id}}"  class="mt-3 btn btn-primary text-light">More</a>
          </div>

          {% if current_user.is_authenticated and current_user.admin==1 %}

          <div class="ml-2 row">
            <a id="edit" type="button"  data-toggle="modal" data-target="#pop{{team.players}}"  class="mt-3 btn btn-primary text-light">Edit Roster</a>
          </div>

          {% endif %}

          <div class="modal fade" id="pop{{team.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">Team Detail</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div id='modal-body' class="modal-body">{{team.description}}</div>
              </div>
            </div>
          </div>

          {% if current_user.is_authenticated and current_user.admin==1 %}

          <div class="modal fade" id="pop{{team.players}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">Update the Player Roster</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div id='modal-body' contenteditable="true" class="modal-body">{{team.players}}</div>
                <div class="ml-2 row">
                  <a id="update" type="button"  data-toggle="modal" data-target="{{team.players}}"  class="mt-3 btn btn-primary text-light">Update</a>
                </div>
                <script>
                  
                </script>
              </div>
            </div>
          </div>

          {% endif %}

        </div>
        <div class="col-auto d-none d-lg-block">
          <img id='logo' class="bd-placeholder-img" width="250" height="250" src="{{team.logo}}" >
        </div>
      </div>
    </div>



    {% endfor %}

</div>
</div>


<script src="https://getbootstrap.com/docs/4.0/assets/js/vendor/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://getbootstrap.com/docs/4.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><script src="https://getbootstrap.com/docs/4.0/assets/js/docs.min.js"></script>
{% endblock %}
